<div class="col-10 offset-2">
  <h1>Project FLEX</h1>
  <p>Welcome to the homepage</p>
  <!--<button_to type="button">Log in</button> -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="1058936483012-7dic1qc7cafpghjabjs23240f22evfnq.apps.googleusercontent.com">
  <% if @member == false and @attemptMade == true %>
    <p>Cannot login, you are not a member.</p>
    <%= button_to "Login", { :controller => "member", :action => "login"} %>
  <% elsif user = session[:cas_user] != nil %>
    <p>Hello, <%= User.get_user(session[:cas_user]).name %>! You are authenticated.</p>
    <p>Position: <%= User.get_user(session[:cas_user]).permissions %></p>
    <%= button_to "Logout", { :controller => "member", :action => "logout"} %>
  <% else %>
    <%= google_sign_in_button 'Sign in with my Google account', proceed_to: create_login_url %>
  <% end %>
</div>
<!-- Add CSS to make these buttons! -->
<div>
  <% if session[:cas_user] != nil %>
    <% content_for(:sidebar) do %>
      <% render :partial => "layouts/sidebar" %>
    <% end %>
  <% end %>
</div>
